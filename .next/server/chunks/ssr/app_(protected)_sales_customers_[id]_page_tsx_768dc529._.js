module.exports=[7221,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(50944),f=a.i(210),g=a.i(63519),h=a.i(92258),i=a.i(63588),j=a.i(70106);let k=(0,j.default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var l=a.i(15618),m=a.i(41675),n=a.i(41710),o=a.i(4720),p=a.i(67453),q=a.i(92e3),r=a.i(73570),s=a.i(46842),t=a.i(69769),u=a.i(44494),v=a.i(56738);let w=(0,j.default)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var x=a.i(11300),y=a.i(92596),z=a.i(3130),A=a.i(54161),B=a.i(40695),C=a.i(7706);new Date().toISOString(),new Date(Date.now()+864e5).toISOString(),new Date(Date.now()+1728e5).toISOString(),new Date().toISOString(),new Date(Date.now()+2592e5).toISOString();let D=[{id:"cust-001",name:"Emily Zhang",phone:"+86 138****0001",email:"emily.z@example.com",wechat:"emily_dream_big",tags:["VIP","高二","美本"],stage:"signed",riskLevel:"low",owner:"Sarah Wu",ownerId:"user-002",source:"小红书",lastContact:"2小时前",nextAction:"文书审核",nextActionDate:"2024-11-01",createdAt:"2024-09-15",updatedAt:"2024-10-24",studentName:"Emily Zhang",grade:"高二",targetCountry:"美国",budget:"50万+"},{id:"cust-002",name:"Michael Chen",phone:"+86 139****1234",email:"michael.c@example.com",tags:["美本","高意向"],stage:"following",riskLevel:"medium",owner:"Alex Chen",ownerId:"user-001",source:"转介绍",lastContact:"1天前",nextAction:"发送方案",nextActionDate:"2024-10-26",createdAt:"2024-10-01",updatedAt:"2024-10-23",studentName:"Michael Chen",grade:"高三",targetCountry:"美国",budget:"30-50万"},{id:"cust-003",name:"Jessica Liu",phone:"+86 137****5678",tags:["英硕"],stage:"new",riskLevel:"high",owner:"Alex Chen",ownerId:"user-001",source:"官网",lastContact:"5天前",nextAction:"初次电话",createdAt:"2024-10-20",updatedAt:"2024-10-20",studentName:"Jessica Liu",grade:"大四",targetCountry:"英国"},{id:"cust-004",name:"David Wang",phone:"+86 136****9999",tags:["艺术作品集"],stage:"proposal",riskLevel:"low",owner:"Jenny Zhao",ownerId:"user-003",source:"讲座",lastContact:"3小时前",nextAction:"合同审核",nextActionDate:"2024-10-25",createdAt:"2024-09-28",updatedAt:"2024-10-24",studentName:"David Wang",grade:"高三",targetCountry:"美国/英国",budget:"40万+"},{id:"cust-005",name:"Sophie Li",phone:"+86 135****8888",tags:["PhD"],stage:"lost",riskLevel:"low",owner:"系统",ownerId:"system",source:"广告投放",lastContact:"1个月前",nextAction:"N/A",createdAt:"2024-08-15",updatedAt:"2024-09-20",studentName:"Sophie Li",grade:"研二",targetCountry:"美国"},{id:"cust-006",name:"Ryan Wu",phone:"+86 134****7777",tags:["高一","早规划"],stage:"following",riskLevel:"low",owner:"Sarah Wu",ownerId:"user-002",source:"小红书",lastContact:"今天",nextAction:"家长会议",nextActionDate:"2024-10-27",createdAt:"2024-10-10",updatedAt:"2024-10-24",studentName:"Ryan Wu",grade:"高一",targetCountry:"美国/加拿大",budget:"50万+"},{id:"cust-007",name:"Amanda Chen",phone:"+86 133****6666",tags:["转学"],stage:"signed",riskLevel:"medium",owner:"Mike Ross",ownerId:"user-004",source:"转介绍",lastContact:"昨天",nextAction:"签证准备",nextActionDate:"2024-11-15",createdAt:"2024-08-01",updatedAt:"2024-10-23",studentName:"Amanda Chen",grade:"大二",targetCountry:"美国",budget:"40万"},{id:"cust-008",name:"Kevin Zhang",phone:"+86 132****5555",tags:["高一"],stage:"new",riskLevel:"low",owner:"待分配",ownerId:"unassigned",source:"活动",lastContact:"刚刚",nextAction:"分配负责人",createdAt:"2024-10-24",updatedAt:"2024-10-24",studentName:"Kevin Zhang",grade:"高一",targetCountry:"待定"}],E={"cust-001":[{id:"evt-001",type:"call",title:"咨询电话",description:"讨论ED申请策略，客户对文书有些焦虑",created_by:"Sarah Wu",created_at:"2024-10-24 10:30"},{id:"evt-002",type:"note",title:"状态更新",description:'从"方案制定"更新为"已签约"',created_by:"系统",created_at:"2024-10-23 16:00"},{id:"evt-003",type:"contract",title:"合同签署",description:"通过电子签完成VIP服务合同签署",created_by:"Alex Chen",created_at:"2024-09-20 14:00"},{id:"evt-004",type:"email",title:"方案发送",description:"发送美本申请初步规划方案",created_by:"Sarah Wu",created_at:"2024-09-18 09:00"}]},F={new:{label:"新咨询",color:"bg-blue-100 text-blue-700"},following:{label:"跟进中",color:"bg-purple-100 text-purple-700"},proposal:{label:"方案制定",color:"bg-amber-100 text-amber-700"},signed:{label:"已签约",color:"bg-emerald-100 text-emerald-700"},lost:{label:"已流失",color:"bg-slate-100 text-slate-500"}},G={low:{label:"正常",color:"text-emerald-600",bgColor:"bg-emerald-50"},medium:{label:"需关注",color:"text-amber-600",bgColor:"bg-amber-50"},high:{label:"高风险",color:"text-red-600",bgColor:"bg-red-50"}};function H(){let a=(0,e.useParams)().id,[j,H]=(0,c.useState)("timeline"),I=D.find(b=>b.id===a),J=E[a]||[];if(!I)return(0,b.jsx)("div",{className:"p-6",children:(0,b.jsxs)("div",{className:"text-center py-16",children:[(0,b.jsx)(s.User,{size:48,className:"mx-auto text-slate-300 mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-slate-900 mb-1",children:"客户不存在"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 mb-4",children:"请检查客户ID是否正确"}),(0,b.jsx)(d.default,{href:"/sales/customers",children:(0,b.jsxs)(B.Button,{variant:"outline",children:[(0,b.jsx)(f.ArrowLeft,{size:16,className:"mr-2"}),"返回客户列表"]})})]})});let K=F[I.stage],L=G[I.riskLevel];return(0,b.jsxs)("div",{className:"min-h-[calc(100vh-64px)] bg-slate-50/50",children:[(0,b.jsx)("div",{className:"bg-white border-b border-slate-200 px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(d.default,{href:"/sales/customers",className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:(0,b.jsx)(f.ArrowLeft,{size:20,className:"text-slate-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-bold text-slate-900",children:I.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,b.jsx)("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${K.color}`,children:K.label}),(0,b.jsxs)("span",{className:"text-xs text-slate-400",children:["ID: ",I.id]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)(B.Button,{variant:"outline",children:[(0,b.jsx)(k,{size:16,className:"mr-2"}),"编辑"]}),(0,b.jsxs)(B.Button,{children:[(0,b.jsx)(l.Plus,{size:16,className:"mr-2"}),"添加跟进"]})]})]})}),(0,b.jsx)("div",{className:"p-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,b.jsx)(z.Card,{children:(0,b.jsx)(z.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)(C.Avatar,{className:"h-16 w-16",children:(0,b.jsx)(C.AvatarFallback,{className:"bg-brand-100 text-brand-700 text-xl",children:I.name.slice(0,2)})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:I.name}),(0,b.jsx)("span",{className:`inline-flex items-center px-2.5 py-1 rounded-md text-xs font-medium ${K.color}`,children:K.label}),(0,b.jsxs)("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded ${L.bgColor}`,children:[(()=>{switch(I.riskLevel){case"high":return(0,b.jsx)(q.AlertCircle,{size:14,className:"text-red-500"});case"medium":return(0,b.jsx)(r.AlertTriangle,{size:14,className:"text-amber-500"});default:return(0,b.jsx)(p.CheckCircle2,{size:14,className:"text-emerald-500"})}})(),(0,b.jsx)("span",{className:`text-xs font-medium ${L.color}`,children:L.label})]})]}),I.tags.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-1.5 mb-3",children:I.tags.map(a=>(0,b.jsx)(A.Badge,{variant:"secondary",className:"text-xs",children:a},a))}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-slate-500",children:"来源"}),(0,b.jsx)("div",{className:"font-medium text-slate-900",children:I.source})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-slate-500",children:"负责人"}),(0,b.jsx)("div",{className:"font-medium text-slate-900",children:I.owner})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-slate-500",children:"最近跟进"}),(0,b.jsx)("div",{className:"font-medium text-slate-900",children:I.lastContact})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-slate-500",children:"下一步动作"}),(0,b.jsx)("div",{className:"font-medium text-brand-600",children:I.nextAction})]})]})]})]})})}),(0,b.jsxs)(z.Card,{children:[(0,b.jsx)("div",{className:"border-b border-slate-200",children:(0,b.jsx)("div",{className:"flex",children:[{key:"timeline",label:"时间轴",icon:w},{key:"tasks",label:"任务",icon:x.ClipboardList},{key:"files",label:"文件",icon:y.Folder}].map(a=>{let c=a.icon;return(0,b.jsxs)("button",{onClick:()=>H(a.key),className:`flex items-center gap-2 px-6 py-4 text-sm font-medium border-b-2 transition-colors ${j===a.key?"border-brand-500 text-brand-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:[(0,b.jsx)(c,{size:16}),a.label]},a.key)})})}),(0,b.jsxs)(z.CardContent,{className:"p-6",children:["timeline"===j&&(0,b.jsx)("div",{className:"space-y-6",children:J.length>0?(0,b.jsx)("div",{className:"relative border-l-2 border-slate-100 ml-3 space-y-6",children:J.map(a=>(0,b.jsxs)("div",{className:"relative pl-8",children:[(0,b.jsx)("div",{className:`absolute -left-[9px] top-1 w-4 h-4 rounded-full ${(a=>{switch(a){case"call":return"bg-blue-500";case"contract":return"bg-emerald-500";case"email":return"bg-purple-500";case"meeting":return"bg-amber-500";default:return"bg-slate-400"}})(a.type)} flex items-center justify-center text-white`,children:(a=>{switch(a){case"call":return(0,b.jsx)(g.Phone,{size:14});case"note":return(0,b.jsx)(o.FileText,{size:14});case"contract":return(0,b.jsx)(p.CheckCircle2,{size:14});case"email":return(0,b.jsx)(h.Mail,{size:14});case"meeting":return(0,b.jsx)(m.Calendar,{size:14});default:return(0,b.jsx)(n.Clock,{size:14})}})(a.type)}),(0,b.jsxs)("div",{className:"bg-slate-50 rounded-lg p-4 hover:bg-slate-100 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h4",{className:"font-medium text-slate-900",children:a.title}),(0,b.jsx)("span",{className:"text-xs text-slate-400",children:a.created_at})]}),a.description&&(0,b.jsx)("p",{className:"text-sm text-slate-600",children:a.description}),(0,b.jsxs)("div",{className:"text-xs text-slate-400 mt-2",children:["操作人：",a.created_by]})]})]},a.id))}):(0,b.jsxs)("div",{className:"text-center py-8 text-slate-400",children:[(0,b.jsx)(w,{size:32,className:"mx-auto mb-2 opacity-30"}),(0,b.jsx)("p",{className:"text-sm",children:"暂无跟进记录"})]})}),"tasks"===j&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h4",{className:"font-medium text-slate-900",children:"待办任务"}),(0,b.jsxs)(B.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(l.Plus,{size:14,className:"mr-1"})," 新建任务"]})]}),(0,b.jsxs)("div",{className:"text-center py-8 text-slate-400",children:[(0,b.jsx)(x.ClipboardList,{size:32,className:"mx-auto mb-2 opacity-30"}),(0,b.jsx)("p",{className:"text-sm",children:"暂无待办任务"})]})]}),"files"===j&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h4",{className:"font-medium text-slate-900",children:"相关文件"}),(0,b.jsxs)(B.Button,{variant:"outline",size:"sm",children:[(0,b.jsx)(l.Plus,{size:14,className:"mr-1"})," 上传文件"]})]}),(0,b.jsxs)("div",{className:"text-center py-8 text-slate-400",children:[(0,b.jsx)(y.Folder,{size:32,className:"mx-auto mb-2 opacity-30"}),(0,b.jsx)("p",{className:"text-sm",children:"暂无相关文件"})]})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(z.Card,{children:[(0,b.jsx)(z.CardHeader,{className:"pb-3",children:(0,b.jsx)(z.CardTitle,{className:"text-base",children:"联系方式"})}),(0,b.jsxs)(z.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center",children:(0,b.jsx)(g.Phone,{size:16,className:"text-blue-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"电话"}),(0,b.jsx)("div",{className:"text-sm font-medium text-slate-900",children:I.phone})]})]}),I.email&&(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-purple-50 flex items-center justify-center",children:(0,b.jsx)(h.Mail,{size:16,className:"text-purple-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"邮箱"}),(0,b.jsx)("div",{className:"text-sm font-medium text-slate-900",children:I.email})]})]}),I.wechat&&(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-emerald-50 flex items-center justify-center",children:(0,b.jsx)(i.MessageSquare,{size:16,className:"text-emerald-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-slate-500",children:"微信"}),(0,b.jsx)("div",{className:"text-sm font-medium text-slate-900",children:I.wechat})]})]})]})]}),(0,b.jsxs)(z.Card,{children:[(0,b.jsx)(z.CardHeader,{className:"pb-3",children:(0,b.jsx)(z.CardTitle,{className:"text-base",children:"关键属性"})}),(0,b.jsxs)(z.CardContent,{className:"space-y-3",children:[I.studentName&&(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("span",{className:"text-slate-500 flex items-center gap-1.5",children:[(0,b.jsx)(s.User,{size:14})," 学员姓名"]}),(0,b.jsx)("span",{className:"font-medium text-slate-900",children:I.studentName})]}),I.grade&&(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("span",{className:"text-slate-500 flex items-center gap-1.5",children:[(0,b.jsx)(t.GraduationCap,{size:14})," 年级"]}),(0,b.jsx)("span",{className:"font-medium text-slate-900",children:I.grade})]}),I.targetCountry&&(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("span",{className:"text-slate-500 flex items-center gap-1.5",children:[(0,b.jsx)(u.Globe,{size:14})," 目标国家"]}),(0,b.jsx)("span",{className:"font-medium text-slate-900",children:I.targetCountry})]}),I.budget&&(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("span",{className:"text-slate-500 flex items-center gap-1.5",children:[(0,b.jsx)(v.Wallet,{size:14})," 预算"]}),(0,b.jsx)("span",{className:"font-medium text-slate-900",children:I.budget})]})]})]}),(0,b.jsxs)(z.Card,{children:[(0,b.jsx)(z.CardHeader,{className:"pb-3",children:(0,b.jsx)(z.CardTitle,{className:"text-base",children:"系统信息"})}),(0,b.jsxs)(z.CardContent,{className:"space-y-3 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-500",children:"创建时间"}),(0,b.jsx)("span",{className:"text-slate-900",children:I.createdAt})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-500",children:"最后更新"}),(0,b.jsx)("span",{className:"text-slate-900",children:I.updatedAt})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-slate-500",children:"客户来源"}),(0,b.jsx)("span",{className:"text-slate-900",children:I.source})]})]})]})]})]})})]})}a.s(["default",()=>H],7221)}];

//# sourceMappingURL=app_%28protected%29_sales_customers_%5Bid%5D_page_tsx_768dc529._.js.map