{"version":3,"sources":["../../../../components/quality/AlertList.tsx","../../../../components/quality/MetricCards.tsx","../../../../app/%28protected%29/quality/page.tsx","../../../../components/shared/PageHeader.tsx","../../../../node_modules/lucide-react/src/icons/arrow-down-right.ts","../../../../node_modules/lucide-react/src/icons/message-square-warning.ts","../../../../node_modules/lucide-react/src/icons/frown.ts","../../../../node_modules/lucide-react/src/icons/shield.ts","../../../../node_modules/lucide-react/src/icons/arrow-up-right.ts","../../../../types/entities.ts"],"sourcesContent":["'use client'\n\nimport Link from 'next/link'\nimport {\n  Clock,\n  Calendar,\n  AlertTriangle,\n  Frown,\n  MessageSquareWarning,\n  ClipboardList,\n  FileText,\n  MoreHorizontal,\n  User,\n  ExternalLink,\n} from 'lucide-react'\nimport { Badge } from '@/components/ui/badge'\nimport { Avatar, AvatarFallback } from '@/components/ui/avatar'\nimport { EmptyState } from '@/components/shared/EmptyState'\nimport {\n  alertTypeConfig,\n  severityConfig,\n  alertStatusConfig,\n  type QualityAlert,\n  type QualityAlertType,\n} from '@/types/entities'\n\ninterface AlertListProps {\n  alerts: QualityAlert[]\n  onAlertClick?: (alert: QualityAlert) => void\n  onResolve?: (alert: QualityAlert) => void\n  emptyTitle?: string\n  emptyDescription?: string\n}\n\nconst iconMap: Record<string, React.ComponentType<{ size?: number; className?: string }>> = {\n  Clock: Clock,\n  Calendar: Calendar,\n  AlertTriangle: AlertTriangle,\n  Frown: Frown,\n  MessageSquareWarning: MessageSquareWarning,\n  ClipboardList: ClipboardList,\n  FileText: FileText,\n}\n\n/**\n * 预警列表组件\n */\nexport function AlertList({\n  alerts,\n  onAlertClick,\n  onResolve,\n  emptyTitle = '暂无预警',\n  emptyDescription = '当前没有需要处理的预警',\n}: AlertListProps) {\n  if (alerts.length === 0) {\n    return (\n      <EmptyState\n        variant=\"default\"\n        title={emptyTitle}\n        description={emptyDescription}\n        icon={AlertTriangle}\n      />\n    )\n  }\n\n  return (\n    <div className=\"divide-y divide-slate-100\">\n      {alerts.map((alert) => (\n        <AlertItem\n          key={alert.id}\n          alert={alert}\n          onClick={() => onAlertClick?.(alert)}\n          onResolve={() => onResolve?.(alert)}\n        />\n      ))}\n    </div>\n  )\n}\n\ninterface AlertItemProps {\n  alert: QualityAlert\n  onClick?: () => void\n  onResolve?: () => void\n}\n\nfunction AlertItem({ alert, onClick, onResolve }: AlertItemProps) {\n  const typeConfig = alertTypeConfig[alert.type]\n  const severity = severityConfig[alert.severity]\n  const status = alertStatusConfig[alert.status]\n  const Icon = iconMap[typeConfig.icon] || AlertTriangle\n\n  return (\n    <div\n      className={`p-4 hover:bg-slate-50 transition-colors cursor-pointer ${\n        alert.status === 'resolved' ? 'opacity-60' : ''\n      }`}\n      onClick={onClick}\n    >\n      <div className=\"flex items-start gap-4\">\n        {/* 图标 */}\n        <div className={`w-10 h-10 rounded-xl flex items-center justify-center ${severity.bgColor}`}>\n          <Icon size={20} className={severity.color} />\n        </div>\n\n        {/* 内容 */}\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center gap-2 mb-1\">\n            <h4 className=\"font-medium text-slate-900 truncate\">{alert.title}</h4>\n            <Badge variant=\"outline\" className={`text-[10px] ${severity.color}`}>\n              {severity.label}\n            </Badge>\n            <Badge variant=\"secondary\" className={`text-[10px] ${status.color}`}>\n              {status.label}\n            </Badge>\n          </div>\n          <p className=\"text-sm text-slate-500 mb-2\">{alert.description}</p>\n          <div className=\"flex items-center gap-4 text-xs text-slate-400\">\n            <span className=\"flex items-center gap-1\">\n              <Clock size={12} />\n              {alert.createdAt}\n            </span>\n            {alert.assignee && (\n              <span className=\"flex items-center gap-1\">\n                <User size={12} />\n                {alert.assignee}\n              </span>\n            )}\n            <Link\n              href={`/${alert.relatedType === 'conversation' ? 'messages' : \n                      alert.relatedType === 'customer' ? 'sales/customers/' + alert.relatedId : \n                      'projects'}`}\n              className=\"flex items-center gap-1 text-brand-600 hover:text-brand-700\"\n              onClick={e => e.stopPropagation()}\n            >\n              <ExternalLink size={12} />\n              {alert.relatedName}\n            </Link>\n          </div>\n        </div>\n\n        {/* 操作 */}\n        <div className=\"flex items-center gap-2\" onClick={e => e.stopPropagation()}>\n          {alert.status === 'pending' && (\n            <button\n              onClick={onResolve}\n              className=\"px-3 py-1.5 text-xs font-medium bg-brand-50 text-brand-700 rounded-lg hover:bg-brand-100 transition-colors\"\n            >\n              处理\n            </button>\n          )}\n          <button className=\"p-1.5 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded\">\n            <MoreHorizontal size={16} />\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// ============================================\n// 预警卡片组件（用于仪表板）\n// ============================================\n\ninterface AlertCardProps {\n  alert: QualityAlert\n  onClick?: () => void\n}\n\nexport function AlertCard({ alert, onClick }: AlertCardProps) {\n  const typeConfig = alertTypeConfig[alert.type]\n  const severity = severityConfig[alert.severity]\n  const Icon = iconMap[typeConfig.icon] || AlertTriangle\n\n  return (\n    <div\n      className=\"p-4 bg-white border border-slate-200 rounded-xl hover:shadow-md hover:border-brand-200 transition-all cursor-pointer\"\n      onClick={onClick}\n    >\n      <div className=\"flex items-start gap-3\">\n        <div className={`w-8 h-8 rounded-lg flex items-center justify-center ${severity.bgColor}`}>\n          <Icon size={16} className={severity.color} />\n        </div>\n        <div className=\"flex-1 min-w-0\">\n          <h4 className=\"font-medium text-slate-900 text-sm truncate\">{alert.title}</h4>\n          <p className=\"text-xs text-slate-500 mt-0.5 truncate\">{alert.relatedName}</p>\n        </div>\n        <Badge variant=\"outline\" className={`text-[10px] ${severity.color}`}>\n          {severity.label}\n        </Badge>\n      </div>\n    </div>\n  )\n}\n","'use client'\n\nimport { ArrowUpRight, ArrowDownRight } from 'lucide-react'\nimport { Card, CardContent } from '@/components/ui/card'\nimport type { QualityMetric } from '@/types/entities'\n\ninterface MetricCardsProps {\n  metrics: QualityMetric[]\n}\n\n/**\n * 质检指标卡片组件\n */\nexport function MetricCards({ metrics }: MetricCardsProps) {\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n      {metrics.map((metric, idx) => (\n        <MetricCard key={idx} metric={metric} />\n      ))}\n    </div>\n  )\n}\n\ninterface MetricCardProps {\n  metric: QualityMetric\n}\n\nfunction MetricCard({ metric }: MetricCardProps) {\n  return (\n    <Card className=\"hover:shadow-md transition-shadow\">\n      <CardContent className=\"p-5\">\n        <div className=\"text-slate-500 text-sm font-medium mb-1\">\n          {metric.label}\n        </div>\n        <div className=\"flex items-end justify-between\">\n          <div>\n            <span className={`text-3xl font-bold ${metric.color || 'text-slate-900'}`}>\n              {metric.value}\n            </span>\n            {metric.total !== undefined && (\n              <span className=\"text-lg text-slate-400 ml-1\">/ {metric.total}</span>\n            )}\n          </div>\n          {metric.change !== undefined && metric.trend && (\n            <div className={`text-xs font-medium flex items-center gap-1 ${\n              metric.trend === 'up' ? 'text-red-500' : \n              metric.trend === 'down' ? 'text-emerald-600' : \n              'text-slate-500'\n            }`}>\n              {metric.trend === 'up' ? (\n                <ArrowUpRight size={14} />\n              ) : metric.trend === 'down' ? (\n                <ArrowDownRight size={14} />\n              ) : null}\n              {metric.change > 0 ? '+' : ''}{metric.change}\n            </div>\n          )}\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n","'use client'\n\nimport { useState, useEffect } from 'react'\nimport {\n  Shield,\n  Filter,\n  Download,\n  RefreshCw,\n  ChevronDown,\n} from 'lucide-react'\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\nimport { AlertList, MetricCards } from '@/components/quality'\nimport { PageHeader } from '@/components/shared/PageHeader'\nimport { useToast } from '@/components/shared/Toast'\nimport {\n  getQualityAlerts,\n  getQualityMetrics,\n  resolveAlert,\n} from '@/lib/services/quality.service'\nimport {\n  alertTypeConfig,\n  severityConfig,\n  alertStatusConfig,\n  type QualityAlert,\n  type QualityMetric,\n  type QualityAlertType,\n  type AlertSeverity,\n  type AlertStatus,\n} from '@/types/entities'\n\n/**\n * 管理质检中心\n * \n * 对齐 v8.0 PRD：\n * - KPI 概览卡片（从会话数据聚合）\n * - 多维度筛选\n * - 风控预警列表（基于会话数据生成）\n * - 处理/忽略操作（预留）\n */\nexport default function QualityPage() {\n  const toast = useToast()\n\n  // 数据状态\n  const [alerts, setAlerts] = useState<QualityAlert[]>([])\n  const [metrics, setMetrics] = useState<QualityMetric[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n  \n  // 筛选\n  const [typeFilter, setTypeFilter] = useState<QualityAlertType | 'all'>('all')\n  const [severityFilter, setSeverityFilter] = useState<AlertSeverity | 'all'>('all')\n  const [statusFilter, setStatusFilter] = useState<AlertStatus | 'all'>('pending')\n\n  // 加载数据\n  useEffect(() => {\n    loadData()\n  }, [typeFilter, severityFilter, statusFilter])\n\n  const loadData = async () => {\n    setIsLoading(true)\n    \n    const [alertsResult, metricsResult] = await Promise.all([\n      getQualityAlerts({\n        type: typeFilter,\n        severity: severityFilter,\n        status: statusFilter,\n      }),\n      getQualityMetrics(),\n    ])\n    \n    if (alertsResult.success) {\n      setAlerts(alertsResult.data)\n    } else {\n      toast.error('加载预警列表失败', alertsResult.error.message)\n      setAlerts([])\n    }\n    \n    if (metricsResult.success) {\n      setMetrics(metricsResult.data)\n    } else {\n      // 指标加载失败不阻塞页面，使用空数据\n      setMetrics([])\n    }\n    \n    setIsLoading(false)\n  }\n\n  // 刷新数据\n  const handleRefresh = () => {\n    loadData()\n    toast.info('刷新中', '正在重新加载数据')\n  }\n\n  // 处理预警\n  const handleResolve = async (alert: QualityAlert) => {\n    const result = await resolveAlert({ alertId: alert.id })\n    if (result.success) {\n      toast.success('处理成功', `预警 \"${alert.title}\" 已标记为已处理`)\n      loadData() // 重新加载数据\n    } else {\n      toast.error('处理失败', result.error.message)\n    }\n  }\n\n  // 忽略预警\n  const handleIgnore = async (alert: QualityAlert) => {\n    const { ignoreAlert } = await import('@/lib/services/quality.service')\n    const result = await ignoreAlert(alert.id, '用户手动忽略')\n    if (result.success) {\n      toast.success('已忽略', `预警 \"${alert.title}\" 已忽略`)\n      loadData()\n    } else {\n      toast.error('操作失败', result.error.message)\n    }\n  }\n\n  // 重置筛选\n  const handleResetFilters = () => {\n    setTypeFilter('all')\n    setSeverityFilter('all')\n    setStatusFilter('pending')\n  }\n\n  const hasActiveFilters = typeFilter !== 'all' || severityFilter !== 'all' || statusFilter !== 'pending'\n\n  return (\n    <div className=\"min-h-[calc(100vh-64px)] bg-slate-50/50\">\n      {/* 页面头部 */}\n      <PageHeader\n        title=\"管理质检中心\"\n        description=\"监控服务质量，及时处理风险预警\"\n        actions={[\n          {\n            label: '导出报告',\n            icon: Download,\n            variant: 'outline',\n            onClick: () => console.log('Export'),\n          },\n          {\n            label: '刷新',\n            icon: RefreshCw,\n            variant: 'outline',\n            onClick: handleRefresh,\n          },\n        ]}\n      />\n\n      <div className=\"p-6 space-y-6\">\n        {/* KPI 指标卡片 */}\n        <MetricCards metrics={metrics} />\n\n        {/* 预警列表 */}\n        <Card className=\"border-0 shadow-sm ring-1 ring-slate-200\">\n          <CardHeader className=\"border-b border-slate-100\">\n            <div className=\"flex items-center justify-between\">\n              <CardTitle className=\"flex items-center gap-2\">\n                <Shield size={18} className=\"text-brand-600\" />\n                风险预警列表\n              </CardTitle>\n              <div className=\"flex items-center gap-3\">\n                {/* 状态筛选 Tab */}\n                <div className=\"flex items-center gap-1 bg-slate-100 p-1 rounded-lg\">\n                  {[\n                    { key: 'pending', label: '待处理' },\n                    { key: 'processing', label: '处理中' },\n                    { key: 'resolved', label: '已解决' },\n                    { key: 'all', label: '全部' },\n                  ].map(tab => (\n                    <button\n                      key={tab.key}\n                      onClick={() => setStatusFilter(tab.key as AlertStatus | 'all')}\n                      className={`px-3 py-1 text-xs font-medium rounded-md transition-all ${\n                        statusFilter === tab.key\n                          ? 'bg-white text-slate-900 shadow-sm'\n                          : 'text-slate-500 hover:text-slate-900'\n                      }`}\n                    >\n                      {tab.label}\n                    </button>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </CardHeader>\n\n          {/* 筛选栏 */}\n          <div className=\"px-6 py-3 border-b border-slate-100 bg-slate-50/50 flex items-center gap-3\">\n            {/* 类型筛选 */}\n            <select\n              value={typeFilter}\n              onChange={(e) => setTypeFilter(e.target.value as QualityAlertType | 'all')}\n              className=\"px-3 py-1.5 bg-white border border-slate-200 rounded-lg text-sm text-slate-600 focus:outline-none focus:ring-2 focus:ring-brand-500\"\n            >\n              <option value=\"all\">全部类型</option>\n              {Object.entries(alertTypeConfig).map(([key, config]) => (\n                <option key={key} value={key}>{config.label}</option>\n              ))}\n            </select>\n\n            {/* 严重程度筛选 */}\n            <select\n              value={severityFilter}\n              onChange={(e) => setSeverityFilter(e.target.value as AlertSeverity | 'all')}\n              className=\"px-3 py-1.5 bg-white border border-slate-200 rounded-lg text-sm text-slate-600 focus:outline-none focus:ring-2 focus:ring-brand-500\"\n            >\n              <option value=\"all\">全部严重程度</option>\n              {Object.entries(severityConfig).map(([key, config]) => (\n                <option key={key} value={key}>{config.label}</option>\n              ))}\n            </select>\n\n            {hasActiveFilters && (\n              <button\n                onClick={handleResetFilters}\n                className=\"text-sm text-brand-600 hover:text-brand-700 font-medium\"\n              >\n                重置筛选\n              </button>\n            )}\n\n            <div className=\"flex-1\" />\n\n            <span className=\"text-sm text-slate-500\">\n              共 <span className=\"font-medium text-slate-900\">{alerts.length}</span> 条预警\n            </span>\n          </div>\n\n          {/* 预警列表 */}\n          <CardContent className=\"p-0\">\n            {isLoading ? (\n              <div className=\"flex items-center justify-center h-64\">\n                <div className=\"animate-spin w-8 h-8 border-2 border-brand-500 border-t-transparent rounded-full\" />\n              </div>\n            ) : (\n              <AlertList\n                alerts={alerts}\n                onAlertClick={(alert) => console.log('Click alert:', alert.id)}\n                onResolve={handleResolve}\n                emptyTitle={hasActiveFilters ? '没有找到匹配的预警' : '暂无待处理预警'}\n                emptyDescription={hasActiveFilters ? '尝试调整筛选条件' : '当前没有需要处理的风险预警'}\n              />\n            )}\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  )\n}\n","import Link from 'next/link'\nimport { ArrowLeft, LucideIcon } from 'lucide-react'\nimport { Button } from '@/components/ui/button'\nimport { Badge } from '@/components/ui/badge'\n\ninterface PageHeaderProps {\n  title: string\n  description?: string\n  // 返回按钮\n  backHref?: string\n  // 状态标签\n  badges?: { label: string; variant?: 'default' | 'secondary' | 'destructive' | 'outline' | 'success' | 'warning' }[]\n  // 操作按钮\n  actions?: {\n    label: string\n    icon?: LucideIcon\n    variant?: 'default' | 'outline' | 'ghost'\n    onClick?: () => void\n    href?: string\n  }[]\n  // 额外内容\n  children?: React.ReactNode\n  className?: string\n}\n\n/**\n * 页面头部组件\n * \n * 支持：\n * - 标题和描述\n * - 返回按钮\n * - 状态标签\n * - 操作按钮\n */\nexport function PageHeader({\n  title,\n  description,\n  backHref,\n  badges,\n  actions,\n  children,\n  className = '',\n}: PageHeaderProps) {\n  return (\n    <div className={`px-6 py-5 bg-white border-b border-slate-200 shadow-sm ${className}`}>\n      <div className=\"flex justify-between items-start gap-4\">\n        <div className=\"flex items-start gap-4\">\n          {/* 返回按钮 */}\n          {backHref && (\n            <Link href={backHref} className=\"p-2 hover:bg-slate-100 rounded-lg transition-colors mt-0.5\">\n              <ArrowLeft size={20} className=\"text-slate-600\" />\n            </Link>\n          )}\n          \n          <div>\n            {/* 标题行 */}\n            <div className=\"flex items-center gap-3\">\n              <h1 className=\"text-2xl font-bold text-slate-900 tracking-tight\">{title}</h1>\n              {badges && badges.map((badge, i) => (\n                <Badge key={i} variant={badge.variant}>\n                  {badge.label}\n                </Badge>\n              ))}\n            </div>\n            \n            {/* 描述 */}\n            {description && (\n              <p className=\"text-sm text-slate-500 mt-1\">{description}</p>\n            )}\n          </div>\n        </div>\n\n        {/* 操作按钮 */}\n        {actions && actions.length > 0 && (\n          <div className=\"flex gap-3\">\n            {actions.map((action, i) => {\n              const Icon = action.icon\n              const button = (\n                <Button key={i} variant={action.variant || 'default'} onClick={action.onClick}>\n                  {Icon && <Icon size={16} className=\"mr-2\" />}\n                  {action.label}\n                </Button>\n              )\n              return action.href ? (\n                <Link key={i} href={action.href}>{button}</Link>\n              ) : button\n            })}\n          </div>\n        )}\n      </div>\n\n      {/* 额外内容 */}\n      {children}\n    </div>\n  )\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowDownRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtNyA3IDEwIDEwIiAvPgogIDxwYXRoIGQ9Ik0xNyA3djEwSDciIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/arrow-down-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowDownRight = createLucideIcon('ArrowDownRight', [\n  ['path', { d: 'm7 7 10 10', key: '1fmybs' }],\n  ['path', { d: 'M17 7v10H7', key: '6fjiku' }],\n]);\n\nexport default ArrowDownRight;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name MessageSquareWarning\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTVhMiAyIDAgMCAxLTIgMkg3bC00IDRWNWEyIDIgMCAwIDEgMi0yaDE0YTIgMiAwIDAgMSAyIDJ6IiAvPgogIDxwYXRoIGQ9Ik0xMiA3djIiIC8+CiAgPHBhdGggZD0iTTEyIDEzaC4wMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/message-square-warning\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MessageSquareWarning = createLucideIcon('MessageSquareWarning', [\n  ['path', { d: 'M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z', key: '1lielz' }],\n  ['path', { d: 'M12 7v2', key: 'stiyo7' }],\n  ['path', { d: 'M12 13h.01', key: 'y0uutt' }],\n]);\n\nexport default MessageSquareWarning;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Frown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNMTYgMTZzLTEuNS0yLTQtMi00IDItNCAyIiAvPgogIDxsaW5lIHgxPSI5IiB4Mj0iOS4wMSIgeTE9IjkiIHkyPSI5IiAvPgogIDxsaW5lIHgxPSIxNSIgeDI9IjE1LjAxIiB5MT0iOSIgeTI9IjkiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/frown\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Frown = createLucideIcon('Frown', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M16 16s-1.5-2-4-2-4 2-4 2', key: 'epbg0q' }],\n  ['line', { x1: '9', x2: '9.01', y1: '9', y2: '9', key: 'yxxnd0' }],\n  ['line', { x1: '15', x2: '15.01', y1: '9', y2: '9', key: '1p4y9e' }],\n]);\n\nexport default Frown;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Shield\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTNjMCA1LTMuNSA3LjUtNy42NiA4Ljk1YTEgMSAwIDAgMS0uNjctLjAxQzcuNSAyMC41IDQgMTggNCAxM1Y2YTEgMSAwIDAgMSAxLTFjMiAwIDQuNS0xLjIgNi4yNC0yLjcyYTEuMTcgMS4xNyAwIDAgMSAxLjUyIDBDMTQuNTEgMy44MSAxNyA1IDE5IDVhMSAxIDAgMCAxIDEgMXoiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/shield\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Shield = createLucideIcon('Shield', [\n  [\n    'path',\n    {\n      d: 'M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z',\n      key: 'oel41y',\n    },\n  ],\n]);\n\nexport default Shield;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowUpRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNyA3aDEwdjEwIiAvPgogIDxwYXRoIGQ9Ik03IDE3IDE3IDciIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/arrow-up-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowUpRight = createLucideIcon('ArrowUpRight', [\n  ['path', { d: 'M7 7h10v10', key: '1tivn9' }],\n  ['path', { d: 'M7 17 17 7', key: '1vkiza' }],\n]);\n\nexport default ArrowUpRight;\n","import { Database } from './database'\n\n// ============================================\n// 数据库表类型（从 Supabase 生成）\n// ============================================\n\n// 用户类型\nexport type User = Database['public']['Tables']['users']['Row']\nexport type UserRole = User['role']\n\n// 客户类型\nexport type Customer = Database['public']['Tables']['customers']['Row']\nexport type CustomerStage = Customer['stage']\n\n// 学员类型\nexport type Student = Database['public']['Tables']['students']['Row']\nexport type StudentStatus = Student['status']\n\n// 任务类型\nexport type Task = Database['public']['Tables']['tasks']['Row']\nexport type TaskStatus = Task['status']\nexport type TaskPriority = Task['priority']\n\n// 企业微信消息类型\nexport type WeChatMessage = Database['public']['Tables']['wechat_messages']['Row']\n\n// 知识库文档类型\nexport type KnowledgeDocument = Database['public']['Tables']['knowledge_documents']['Row']\n\n// 项目类型\nexport type Project = Database['public']['Tables']['projects']['Row']\nexport type ProjectStatus = Project['status']\n\n// ============================================\n// 业务实体类型（聚合/扩展）\n// ============================================\n\n// 会话类型（企业微信会话中心）\nexport interface Conversation {\n  id: string\n  name: string\n  avatar?: string\n  lastMessage: string\n  lastMessageTime: string\n  unreadCount: number\n  type: ConversationType\n  isOverdue?: boolean\n  // 客户画像字段\n  clientStatus?: ClientStatus\n  grade?: string\n  serviceProject?: string\n  riskStatus?: RiskStatus\n  serviceStage?: string\n  serviceProgress?: number\n  tags?: string[]\n  source?: string\n  joinDate?: string\n  contractDate?: string\n  lastFollowUp?: string\n  nextKeyNode?: KeyNode\n  serviceTeam?: ServiceTeam\n}\n\nexport type ConversationType = 'student' | 'parent' | 'internal' | 'group'\nexport type ClientStatus = 'signed' | 'prospect'\nexport type RiskStatus = 'normal' | 'attention' | 'critical'\n\nexport interface KeyNode {\n  label: string\n  date: string\n}\n\nexport interface ServiceTeam {\n  consultant?: string\n  leadTutor?: string\n  associateTutor?: string\n}\n\n// 消息类型\nexport interface Message {\n  id: string\n  conversationId: string\n  senderId: string\n  senderName: string\n  senderAvatar?: string\n  content: string\n  timestamp: string\n  isMe: boolean\n  type: MessageType\n}\n\nexport type MessageType = 'text' | 'image' | 'file' | 'voice' | 'video' | 'link'\n\n// AI 分析结果\nexport interface AIAnalysis {\n  intent: string\n  emotion: string\n  strategy: string\n  suggestedReplies: string[]\n}\n\n// 营销素材\nexport interface MarketingMaterial {\n  id: string\n  title: string\n  type: MaterialType\n  source: string\n  date: string\n  summary: string\n}\n\nexport type MaterialType = 'article' | 'video'\n\n// 客户详情类型（销售工作台）\nexport interface SalesCustomer {\n  id: string\n  name: string\n  avatar?: string\n  phone: string\n  email?: string\n  wechat?: string\n  tags: string[]\n  stage: SalesStage\n  riskLevel: RiskLevel\n  owner: string\n  ownerId: string\n  source: string\n  lastContact: string\n  nextAction: string\n  nextActionDate?: string\n  createdAt: string\n  updatedAt: string\n  // 详情页字段\n  studentName?: string\n  grade?: string\n  targetCountry?: string\n  budget?: string\n  notes?: string\n}\n\nexport type SalesStage = 'new' | 'following' | 'proposal' | 'signed' | 'lost'\nexport type RiskLevel = 'low' | 'medium' | 'high'\n\n// 时间轴事件类型\nexport interface TimelineEvent {\n  id: string\n  type: TimelineEventType\n  title: string\n  description: string | null\n  created_by: string\n  created_at: string\n  metadata?: Record<string, unknown>\n}\n\nexport type TimelineEventType = 'note' | 'call' | 'meeting' | 'email' | 'contract' | 'payment'\n\n// 待办事项类型（聚合）\nexport interface TodoItem {\n  id: string\n  title: string\n  type: TodoType\n  source: TodoSource\n  priority: TaskPriority\n  due_date: string | null\n  related_type: string | null\n  related_id: string | null\n  status: TaskStatus\n  created_at: string\n}\n\nexport type TodoType = 'task' | 'approval' | 'follow_up' | 'notification'\nexport type TodoSource = 'sales' | 'tutor' | 'finance' | 'project' | 'system'\n\n// KPI指标类型\nexport interface KPIMetric {\n  label: string\n  value: string | number\n  change?: number\n  trend?: TrendDirection\n  target?: string | number\n  icon?: string\n}\n\nexport type TrendDirection = 'up' | 'down' | 'neutral'\n\n// 日程事件\nexport interface ScheduleEvent {\n  id: string\n  title: string\n  date: string\n  time: string\n}\n\n// ============================================\n// UI 组件类型\n// ============================================\n\n// 表格列定义\nexport interface TableColumn<T> {\n  key: keyof T | string\n  title: string\n  width?: string\n  align?: 'left' | 'center' | 'right'\n  render?: (value: unknown, record: T, index: number) => React.ReactNode\n  sortable?: boolean\n}\n\n// 筛选器选项\nexport interface FilterOption {\n  label: string\n  value: string\n}\n\n// 筛选器配置\nexport interface FilterConfig {\n  key: string\n  label: string\n  type: 'select' | 'search' | 'date' | 'multi-select'\n  options?: FilterOption[]\n  placeholder?: string\n}\n\n// 分页配置\nexport interface PaginationConfig {\n  current: number\n  pageSize: number\n  total: number\n  onChange?: (page: number, pageSize: number) => void\n}\n\n// 空状态类型\nexport type EmptyStateVariant = 'default' | 'search' | 'error' | 'no-permission'\n\n// ============================================\n// 配置类型\n// ============================================\n\n// 阶段配置\nexport interface StageConfig {\n  label: string\n  color: string\n}\n\n// 风险配置\nexport interface RiskConfig {\n  label: string\n  color: string\n  bgColor: string\n}\n\n// ============================================\n// 权限类型\n// ============================================\n\nexport type Permission = \n  | 'sales:view'\n  | 'sales:edit'\n  | 'sales:delete'\n  | 'students:view'\n  | 'students:edit'\n  | 'students:delete'\n  | 'finance:view'\n  | 'finance:edit'\n  | 'quality:view'\n  | 'settings:manage'\n\nexport type DataScope = 'own' | 'department' | 'company'\n\n// 角色权限映射\nexport const ROLE_PERMISSIONS: Record<UserRole, Permission[]> = {\n  admin: [\n    'sales:view', 'sales:edit', 'sales:delete',\n    'students:view', 'students:edit', 'students:delete',\n    'finance:view', 'finance:edit',\n    'quality:view',\n    'settings:manage',\n  ],\n  manager: [\n    'sales:view', 'sales:edit',\n    'students:view', 'students:edit',\n    'finance:view',\n    'quality:view',\n  ],\n  team_leader: [\n    'sales:view', 'sales:edit',\n    'students:view', 'students:edit',\n  ],\n  sales: [\n    'sales:view', 'sales:edit',\n  ],\n  tutor: [\n    'students:view', 'students:edit',\n  ],\n  bd: [\n    'sales:view',\n  ],\n  marketing: [\n    'sales:view',\n  ],\n  finance: [\n    'finance:view', 'finance:edit',\n  ],\n  academic: [\n    'students:view',\n  ],\n}\n\n// ============================================\n// 知识库类型\n// ============================================\n\nexport interface KnowledgeFolder {\n  id: string\n  name: string\n  parentId: string | null\n  icon?: string\n  children?: KnowledgeFolder[]\n  fileCount?: number\n  createdAt: string\n  updatedAt: string\n}\n\nexport interface KnowledgeFile {\n  id: string\n  name: string\n  folderId: string\n  type: KnowledgeFileType\n  size: number\n  mimeType: string\n  url?: string\n  tags: string[]\n  description?: string\n  createdBy: string\n  createdAt: string\n  updatedAt: string\n  viewCount: number\n  downloadCount: number\n}\n\nexport type KnowledgeFileType = \n  | 'document'   // Word/PDF\n  | 'spreadsheet' // Excel\n  | 'presentation' // PPT\n  | 'image'\n  | 'video'\n  | 'template'   // SOP模板\n  | 'other'\n\nexport interface KnowledgeBreadcrumb {\n  id: string\n  name: string\n}\n\n// ============================================\n// 质检中心类型\n// ============================================\n\nexport interface QualityAlert {\n  id: string\n  type: QualityAlertType\n  severity: AlertSeverity\n  title: string\n  description: string\n  relatedType: 'conversation' | 'customer' | 'student' | 'task'\n  relatedId: string\n  relatedName: string\n  assignee?: string\n  assigneeId?: string\n  status: AlertStatus\n  createdAt: string\n  resolvedAt?: string\n  resolvedBy?: string\n}\n\nexport type QualityAlertType = \n  | 'response_timeout'      // 响应超时\n  | 'follow_up_overdue'     // 跟进逾期\n  | 'service_risk'          // 服务风险\n  | 'negative_sentiment'    // 负面情绪\n  | 'complaint'             // 投诉预警\n  | 'task_overdue'          // 任务逾期\n  | 'contract_expiring'     // 合同即将到期\n\nexport type AlertSeverity = 'low' | 'medium' | 'high' | 'critical'\nexport type AlertStatus = 'pending' | 'processing' | 'resolved' | 'ignored'\n\nexport interface QualityMetric {\n  label: string\n  value: number\n  total?: number\n  change?: number\n  trend?: TrendDirection\n  color?: string\n}\n\nexport interface QualityFilters {\n  type?: QualityAlertType | 'all'\n  severity?: AlertSeverity | 'all'\n  status?: AlertStatus | 'all'\n  assignee?: string\n  dateRange?: [string, string]\n}\n\n// 质检配置\nexport const alertTypeConfig: Record<QualityAlertType, { label: string; icon: string; color: string }> = {\n  response_timeout: { label: '响应超时', icon: 'Clock', color: 'text-amber-600' },\n  follow_up_overdue: { label: '跟进逾期', icon: 'Calendar', color: 'text-orange-600' },\n  service_risk: { label: '服务风险', icon: 'AlertTriangle', color: 'text-red-600' },\n  negative_sentiment: { label: '负面情绪', icon: 'Frown', color: 'text-purple-600' },\n  complaint: { label: '投诉预警', icon: 'MessageSquareWarning', color: 'text-red-700' },\n  task_overdue: { label: '任务逾期', icon: 'ClipboardList', color: 'text-amber-700' },\n  contract_expiring: { label: '合同到期', icon: 'FileText', color: 'text-blue-600' },\n}\n\nexport const severityConfig: Record<AlertSeverity, { label: string; color: string; bgColor: string }> = {\n  low: { label: '低', color: 'text-slate-600', bgColor: 'bg-slate-100' },\n  medium: { label: '中', color: 'text-amber-600', bgColor: 'bg-amber-100' },\n  high: { label: '高', color: 'text-orange-600', bgColor: 'bg-orange-100' },\n  critical: { label: '紧急', color: 'text-red-600', bgColor: 'bg-red-100' },\n}\n\nexport const alertStatusConfig: Record<AlertStatus, { label: string; color: string }> = {\n  pending: { label: '待处理', color: 'text-amber-600' },\n  processing: { label: '处理中', color: 'text-blue-600' },\n  resolved: { label: '已解决', color: 'text-emerald-600' },\n  ignored: { label: '已忽略', color: 'text-slate-400' },\n}\n"],"names":[],"mappings":"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","ignoreList":[4,5,6,7,8]}